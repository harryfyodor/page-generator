{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/js/eventEmmiter3.js","src/js/main.js","src/js/utils.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundle.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\r\n * Created by haiwei on 2016/9/1.\r\n */\r\n// This is a simple events emmiter\r\nvar eventsList = {},\r\n\tlisten,\r\n\ttrigger,\r\n\tremove,\r\n\tlistenOnce;\r\n\r\n// listen events\r\nlisten = function(key, fn) {\r\n\tif(!eventsList[key]) {\r\n\t\teventsList[key] = {};\r\n\t\teventsList[key].fns = [];\r\n\t}\r\n\teventsList[key].once = false;\r\n\teventsList[key].fns.push(fn);\r\n};\r\n\r\n// listen once\r\nlistenOnce = function(key, fn) {\r\n\tlisten(key, fn);\r\n\teventsList[key].once = true;\r\n};\r\n\r\n// trigger events\r\ntrigger = function() {\r\n\tvar key = Array.prototype.shift.call(arguments),\r\n\t\tfns = eventsList[key].fns;\r\n\tif(!fns || fns.length === 0) {\r\n\t\treturn false;\r\n\t}\r\n\tfor(var i = 0; i < fns.length; i++) {\r\n\t\tvar fn = fns[i];\r\n\t\tfn.apply(this, arguments);\r\n\t}\r\n\t// listen once!\r\n\tif(eventsList[key].once) {\r\n\t\tremove(key);\r\n\t}\r\n};\r\n\r\n// remove events\r\nremove = function(key, fn){\r\n\tvar fns = eventsList[key].fns;\r\n\tif(!fns) {\r\n\t\treturn false;\r\n\t}\r\n\tif(!fn) {\r\n\t\tfns.length = 0;\r\n\t} else {\r\n\t\tfor(var l = fns.length - 1; l >= 0; l--) {\r\n\t\t\tvar _fn = fns[l];\r\n\t\t\tif(_fn === fn) {\r\n\t\t\t\tfns.splice(l, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\nmodule.exports = {\r\n\tlisten: listen,\r\n\tlistenOnce: listenOnce,\r\n\ttrigger: trigger,\r\n\tremove: remove\r\n};","/**\r\n * Created by haiwei on 2016/9/1.\r\n */\r\n(function(){\r\n\tvar eventEventEmmiter3 = require('./eventEmmiter3.js'),\r\n\t\tutils = require('./utils.js'),\r\n\t\teventUtil = utils.eventUtil,\r\n\t\tanimate = utils.animate,\r\n\t\tgetElemenTop = utils.getElementTop;\r\n\r\n\t// dom needed\r\n\tvar header = document.getElementsByTagName('header')[0];\r\n\tvar secAbout = document.getElementsByClassName('sec-about')[0];\r\n\tvar secTech = document.getElementsByClassName('sec-tech')[0];\r\n\tvar secProj = document.getElementsByClassName('sec-proj')[0];\r\n\tvar secBlogs = document.getElementsByClassName('sec-blogs')[0];\r\n\tvar secContact = document.getElementsByClassName('sec-contact')[0];\r\n\r\n\t// tops of dom node\r\n\tvar tops = {\r\n\t\tABOUT_TOP : getElemenTop(secAbout),\r\n\t\tTECH_TOP: getElemenTop(secTech),\r\n\t\tPROJ_TOP: getElemenTop(secProj),\r\n\t\tBLOGS_TOP: getElemenTop(secBlogs),\r\n\t\tCONTACT_TOP: getElemenTop(secContact)\r\n\t}\r\n\r\n\tfunction detectmob() {\r\n\t\tif( navigator.userAgent.match(/Android/i)\r\n\t\t\t|| navigator.userAgent.match(/webOS/i)\r\n\t\t\t|| navigator.userAgent.match(/iPhone/i)\r\n\t\t\t|| navigator.userAgent.match(/iPad/i)\r\n\t\t\t|| navigator.userAgent.match(/iPod/i)\r\n\t\t\t|| navigator.userAgent.match(/BlackBerry/i)\r\n\t\t\t|| navigator.userAgent.match(/Windows Phone/i)\r\n\t\t){\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\t// when to fade in\r\n\tvar halfClientHeight = detectmob() ? document.documentElement.clientHeight - 200\r\n\t\t\t\t\t\t\t: document.documentElement.clientHeight/2 + 130;\r\n\r\n\t// listen for once\r\n\teventEventEmmiter3.listenOnce(\"tech\", function(){\r\n\t\tanimate(secTech, \"appearing\", \"appeared\", 1000);\r\n\t});\r\n\r\n\teventEventEmmiter3.listenOnce(\"proj\", function(){\r\n\t\tanimate(secProj, \"appearing\", \"appeared\", 1000);\r\n\t});\r\n\r\n\teventEventEmmiter3.listenOnce(\"blogs\", function(){\r\n\t\tanimate(secBlogs, \"appearing\", \"appeared\", 1000);\r\n\t});\r\n\r\n\teventEventEmmiter3.listenOnce(\"contact\", function(){\r\n\t\tanimate(secContact, \"appearing\", \"appeared\", 1000);\r\n\t});\r\n\r\n\t// listen scroll\r\n\teventUtil.addHandler(window, \"scroll\", function(){\r\n\t\tvar scrollTop = document.body.scrollTop + halfClientHeight;\r\n\t\tif(scrollTop >= tops.TECH_TOP && scrollTop <= tops.PROJ_TOP) {\r\n\t\t\teventEventEmmiter3.trigger(\"tech\");\r\n\t\t} else if(scrollTop >= tops.PROJ_TOP && scrollTop <= tops.BLOGS_TOP) {\r\n\t\t\teventEventEmmiter3.trigger(\"proj\");\r\n\t\t} else if(scrollTop >= tops.BLOGS_TOP && scrollTop <= tops.CONTACT_TOP) {\r\n\t\t\teventEventEmmiter3.trigger(\"blogs\");\r\n\t\t} else if(scrollTop >= tops.CONTACT_TOP) {\r\n\t\t\teventEventEmmiter3.trigger(\"contact\");\r\n\t\t}\r\n\t});\r\n\r\n\t// scroll menu\r\n\tvar menu = header.getElementsByTagName('ul')[0];\r\n\teventUtil.addHandler(menu, 'click', function(event){\r\n\t\tevent = eventUtil.getEvent(event);\r\n\t\tif(eventUtil.getTarget(event).tagName.toLowerCase() === \"a\") {\r\n\t\t\tvar top,\r\n\t\t\t    targetName = eventUtil.getTarget(event).name,\r\n\t\t\t    topType = targetName.toUpperCase() + \"_TOP\";\r\n\r\n\t\t\ttop = tops[topType];\r\n\r\n\t\t\tvar t = (top - document.body.scrollTop - 20)/50,\r\n\t\t\t\ti = 0;\r\n\t\t\tvar setInter = setInterval(function(){\r\n\t\t\t\tif(i === 50) {\r\n\t\t\t\t\tclearInterval(setInter);\r\n\t\t\t\t}\r\n\t\t\t\tdocument.body.scrollTop += t;\r\n\r\n\t\t\t\ti++;\r\n\t\t\t}, 15)\r\n\t\t}\r\n\t});\r\n\r\n\t// scroll to top\r\n\tvar getToTop = document.getElementsByClassName('back-top')[0];\r\n\teventUtil.addHandler(getToTop, 'click', function(){\r\n\t\tvar top = document.body.scrollTop,\r\n\t\t\tt = top/50,\r\n\t\t\ti = 0;\r\n\t\tvar setInter = setInterval(function(){\r\n\t\t\tdocument.body.scrollTop -= t;\r\n\t\t\ti++;\r\n\t\t\tif(i === 50) {\r\n\t\t\t\tclearInterval(setInter);\r\n\t\t\t}\r\n\t\t}, 10);\r\n\t});\r\n\r\n})();","/**\r\n * Created by haiwei on 2016/9/5.\r\n */\r\n\r\n// animation\r\nvar animate = function(ele, transitionClass, endClass, time) {\r\n\tvar preClass = ele.className;\r\n\tele.className = preClass + \" \" + transitionClass;\r\n\tvar timeout = setTimeout(function(){\r\n\t\tele.className = preClass + \" \" + endClass;\r\n\t\tclearTimeout(timeout);\r\n\t}, time);\r\n};\r\n\r\n// handle events\r\nvar eventUtil = {\r\n\taddHandler: function(element, type, handler) {\r\n\t\tif(element.addEventListener) {\r\n\t\t\telement.addEventListener(type, handler, false);\r\n\t\t} else if (element.attachEvent) {\r\n\t\t\telement.attachEvent(\"on\" + type, handler);\r\n\t\t} else {\r\n\t\t\telement[\"on\" + type] = handler;\r\n\t\t}\r\n\t},\r\n\tgetEvent: function(event) {\r\n\t\treturn event ? event : window.event;\r\n\t},\r\n\tgetTarget: function(event) {\r\n\t\treturn event.target || event.srcElement;\r\n\t},\r\n\tpreventDefault: function(event) {\r\n\t\tif(event.preventDefault) {\r\n\t\t\tevent.preventDefault();\r\n\t\t} else {\r\n\t\t\tevent.returnValue = false;\r\n\t\t}\r\n\t},\r\n\tstopPropagation: function(event) {\r\n\t\tif(event.stopPropagation) {\r\n\t\t\tevent.stopPropagation();\r\n\t\t} else {\r\n\t\t\tevent.cancelBubble = true;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// top\r\nvar getElementTop = function(element) {\r\n\tvar actualTop = element.offsetTop;\r\n\tvar current = element.offsetParent;\r\n\r\n\twhile (current !== null) {\r\n\t\tactualTop += current.offsetTop;\r\n\t\tcurrent = current.offsetParent;\r\n\t}\r\n\r\n\treturn actualTop;\r\n}\r\n\r\nmodule.exports = {\r\n\tanimate: animate,\r\n\teventUtil: eventUtil,\r\n\tgetElementTop: getElementTop\r\n}"]}